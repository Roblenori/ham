<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="theme-color" content="#003366">
    <title>BOARD SPEC SYSTEM V2026</title>
    
    <link rel="manifest" href='data:application/manifest+json,{"name":"BoardSpec","short_name":"BoardSpec","start_url":".","display":"standalone","background_color":"#f7fafc","theme_color":"#003366","icons":[{"src":"https://cdn-icons-png.flaticon.com/512/908/908424.png","sizes":"512x512","type":"image/png"}]}'>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdn.datatables.net/1.13.6/css/jquery.dataTables.min.css">
    <link rel="stylesheet" href="https://cdn.datatables.net/responsive/2.5.0/css/responsive.dataTables.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    
    <style>
        :root { --primary: #003366; --accent: #3182ce; --bg: #f7fafc; --white: #ffffff; }
        body { font-family: 'Pretendard', -apple-system, sans-serif; background-color: var(--bg); padding: 10px; margin: 0; color: #1a202c; }
        
        .main-container { max-width: 1600px; margin: auto; background: var(--white); padding: 25px; border-radius: 20px; box-shadow: 0 15px 35px rgba(0,0,0,0.08); }
        @media (max-width: 768px) { .main-container { padding: 15px; border-radius: 0; } body { padding: 0; } }

        h2 { font-weight: 800; color: var(--primary); margin-bottom: 25px; letter-spacing: -1px; }
        h2 small { font-size: 14px; color: #a0aec0; font-weight: 400; }

        .brand-nav { display: flex; gap: 10px; flex-wrap: wrap; margin-bottom: 25px; border-bottom: 2px solid #edf2f7; padding-bottom: 20px; }
        .nav-btn { border: 2px solid #e2e8f0; background: var(--white); color: #718096; font-weight: 700; border-radius: 12px; padding: 10px 22px; cursor: pointer; transition: all 0.2s; font-size: 14px; }
        .nav-btn.active { background: var(--primary); border-color: var(--primary); color: var(--white); box-shadow: 0 8px 15px rgba(0,51,102,0.2); }

        /* --- ìƒë‹¨ ì»¨íŠ¸ë¡¤ ë ˆì´ì•„ì›ƒ ìˆ˜ì •: ê²€ìƒ‰ì°½ì„ ìš°ì¸¡ ëìœ¼ë¡œ --- */
        .dataTables_wrapper .top-controls { 
            display: flex; 
            justify-content: space-between; /* ì–‘ ë ì •ë ¬ */
            align-items: center; 
            gap: 10px; 
            margin-bottom: 20px; 
        }
        
        .dataTables_length { margin: 0 !important; }
        .dataTables_length select { border-radius: 8px; border: 1px solid #e2e8f0; padding: 5px 10px; font-weight: 600; cursor: pointer; }
        
        .dataTables_filter { margin: 0 !important; }
        .dataTables_filter input { 
            border-radius: 10px; 
            border: 1px solid #e2e8f0; 
            padding: 8px 15px; 
            width: 250px; 
            box-shadow: inset 0 2px 4px rgba(0,0,0,0.02); 
        }

        @media (max-width: 768px) {
            .dataTables_wrapper .top-controls { gap: 8px; }
            .dataTables_filter input { width: 160px; } /* ëª¨ë°”ì¼ ë„ˆë¹„ ìµœì í™” */
        }

        .table-thumb { width: 60px; height: 45px; object-fit: contain; border-radius: 6px; border: 1px solid #e2e8f0; background: #fff; }
        table.dataTable { border-top: 3px solid var(--primary) !important; font-size: 14px; width: 100% !important; margin-top: 15px !important; }
        table.dataTable thead th { background: #f8fafc !important; color: #4a5568 !important; font-weight: 800 !important; padding: 15px 12px !important; text-align: left; border-bottom: 1px solid #edf2f7 !important; }
        table.dataTable tbody td { vertical-align: middle !important; padding: 15px 10px !important; cursor: pointer; text-align: left; border-bottom: 1px solid #f7fafc; }
        table.dataTable tbody tr:hover { background-color: #f1f8ff !important; transition: 0.15s; }

        @media (max-width: 1024px) { .col-hide-tablet { display: none !important; } }
        @media (max-width: 768px) { .col-hide-mobile { display: none !important; } }

        .badge-ui { display: inline-block; padding: 3px 10px; border-radius: 8px; font-size: 11px; font-weight: 800; color: var(--white); margin-right: 5px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); text-transform: uppercase; }
        .bg-win-11 { background: #0078d4; } .bg-win-10 { background: #00a4ef; }
        .bg-cpu-gen { background: #4a5568; } .bg-ram-d5 { background: #2e7d32; } .bg-ram-d4 { background: #6a1b9a; }

        .modal-content { border-radius: 24px; border: none; overflow: hidden; box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25); }
        .modal-header { background: var(--primary); color: var(--white); padding: 20px 30px; border: none; }
        .modal-body { padding: 0; background: #f8fafc; }
        .modal-grid { display: grid; grid-template-columns: 1fr 1.6fr; min-height: 500px; }
        
        .modal-image-area { background: #fff; display: flex; align-items: center; justify-content: center; padding: 30px; border-right: 1px solid #edf2f7; cursor: zoom-in; }
        .modal-image-area img { max-width: 100%; border-radius: 12px; box-shadow: 0 10px 20px rgba(0,0,0,0.05); }

        .modal-info-area { padding: 30px; overflow-y: auto; max-height: 80vh; display: flex; flex-direction: column; gap: 20px; }
        .spec-group { background: white; border-radius: 18px; padding: 20px; border: 1px solid #f1f5f9; box-shadow: 0 4px 6px rgba(0,0,0,0.02); }
        .spec-group h6 { color: var(--accent); font-weight: 800; margin-bottom: 15px; border-bottom: 2px solid #f8fafc; padding-bottom: 10px; display: flex; align-items: center; gap: 8px; }
        
        .spec-row { display: flex; justify-content: space-between; padding: 8px 0; border-bottom: 1px solid #f8fafc; font-size: 14px; }
        .spec-row:last-child { border-bottom: none; }
        .spec-label { color: #718096; font-weight: 700; width: 140px; flex-shrink: 0; }
        .spec-value { color: #1a202c; font-weight: 600; text-align: right; word-break: break-all; }

        @media (max-width: 992px) {
            .modal-grid { grid-template-columns: 1fr; }
            .modal-image-area { border-right: none; border-bottom: 1px solid #edf2f7; min-height: 300px; padding: 20px; }
            .modal-info-area { max-height: none; padding: 20px; }
        }

        #imageOverlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.95); z-index: 10000; display: none; align-items: center; justify-content: center; cursor: zoom-out; backdrop-filter: blur(8px); }
        #imageOverlay img { max-width: 95%; max-height: 95%; object-fit: contain; }

        #floating-ui { position: fixed; bottom: 30px; right: 25px; display: flex; flex-direction: column; gap: 12px; z-index: 999; }
        .float-btn { width: 55px; height: 55px; border-radius: 50%; border: none; display: flex; align-items: center; justify-content: center; font-size: 20px; box-shadow: 0 4px 15px rgba(0,0,0,0.2); cursor: pointer; transition: 0.2s; }
    </style>
</head>
<body>

<div class="main-container">
    <header>
        <h2>ğŸ’» BOARD SPEC SYSTEM <small id="updateDate"></small></h2>
        <div class="brand-nav" id="brandNav">
            <button class="nav-btn active" data-brand="all">ì „ì²´ë³´ê¸°</button>
            <button class="nav-btn" data-brand="SEAVO">SEAVO</button>
            <button class="nav-btn" data-brand="Tostar">Tostar</button>
            <button class="nav-btn" data-brand="ê¸°íƒ€">ê¸°íƒ€</button>
        </div>
    </header>

    <table id="boardTable" class="display nowrap w-100">
        <thead>
            <tr>
                <th>ë¯¸ë¦¬ë³´ê¸°</th>
                <th>ëª¨ë¸ëª…</th>
                <th>OS</th>
                <th class="col-hide-mobile">CPU í†µí•© ì‚¬ì–‘</th>
                <th class="col-hide-mobile col-hide-tablet">ë©”ëª¨ë¦¬</th>
                <th class="col-hide-mobile col-hide-tablet">SATA</th>
                <th class="col-hide-mobile col-hide-tablet">M.2 / mSATA</th>
                <th class="col-hide-mobile col-hide-tablet">ë””ìŠ¤í”Œë ˆì´</th>
                <th class="col-hide-mobile col-hide-tablet">ì˜¨ë„</th>
            </tr>
        </thead>
    </table>
</div>

<div class="modal fade" id="specModal" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog modal-xl modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="modalTitle" style="font-weight: 800;">BOARD SPECIFICATION</h5>
                <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <div class="modal-grid">
                    <div class="modal-image-area" id="modalImageArea" title="í´ë¦­í•˜ì—¬ í¬ê²Œ ë³´ê¸°">
                        <img src="" alt="Board Image" id="targetImage" onerror="this.src='https://placehold.co/600x400?text=No+Image'">
                    </div>
                    <div class="modal-info-area" id="modalInfoArea"></div>
                </div>
            </div>
            <div class="modal-footer" style="background: white; border-top: 1px solid #f1f5f9;">
                <button type="button" class="btn btn-secondary rounded-pill px-4" data-bs-dismiss="modal">ë‹«ê¸°</button>
            </div>
        </div>
    </div>
</div>

<div id="imageOverlay">
    <img src="" id="zoomedImage">
</div>

<script src="https://code.jquery.com/jquery-3.7.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://cdn.datatables.net/1.13.6/js/jquery.dataTables.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.4.1/papaparse.min.js"></script>

<script>
    const CSV_URL = 'https://docs.google.com/spreadsheets/d/e/2PACX-1vQKipmCgb11JIbQnSHw1CbAVAhcA24MEmxp-Spg6ozdL8TX1Bm0AvS8wihRCbLiRNDhKUqWC32PT9pm/pub?gid=1436169204&output=csv';
    let mainTable;
    let cachedData = [];

    function convertDriveLink(url) {
        if (!url || url === '-' || url === 'nan' || String(url).trim() === '') return '';
        const raw = String(url).trim();
        let fileId = '';
        if (raw.includes('drive.google.com')) {
            const match = raw.match(/\/d\/([a-zA-Z0-9_-]+)/) || raw.match(/id=([a-zA-Z0-9_-]+)/);
            if (match) fileId = match[1];
        } else if (!raw.includes(' ') && raw.length > 20) { fileId = raw; }
        return fileId ? `https://lh3.googleusercontent.com/u/0/d/${fileId}` : raw;
    }

    function getVal(row, key) {
        if (!row || !row[key] || row[key] === 'nan' || row[key] === '-') return '-';
        return row[key];
    }

    function parseAndRender(text, type) {
        if (!text || text === '-' || text === 'nan') return '<span>-</span>';
        let val = String(text).toUpperCase();
        if (type === 'OS') {
            let html = "";
            if (val.includes('11')) html += `<span class="badge-ui bg-win-11">W11</span>`;
            if (val.includes('10')) html += `<span class="badge-ui bg-win-10">W10</span>`;
            return html || text;
        } else if (type === 'MEM') {
            let badge = val.includes('D5') ? `<span class="badge-ui bg-ram-d5">DDR5</span>` : (val.includes('D4') ? `<span class="badge-ui bg-ram-d4">DDR4</span>` : "");
            return badge + String(text).replace(/DDR\d/gi, "").trim();
        }
        return text;
    }

    function openSpecModal(d) {
        $('#modalTitle').text(`[${getVal(d, 'brand')}] ${getVal(d, 'name')}`);
        const imgUrl = convertDriveLink(getVal(d, 'image_url'));
        $('#targetImage').attr('src', imgUrl || 'https://placehold.co/600x400?text=No+Image');

        const infoHtml = `
            <div class="spec-group">
                <h6><i class="fas fa-microchip"></i> í”„ë¡œì„¸ì„œ ë° ê¸°ë³¸ ì‚¬ì–‘</h6>
                <div class="spec-row"><span class="spec-label">CPU ìƒì„¸</span><span class="spec-value">${getVal(d, 'cpu_detail')}</span></div>
                <div class="spec-row"><span class="spec-label">CPU ì„¸ëŒ€</span><span class="spec-value">${getVal(d, 'cpu_gen')}th Gen</span></div>
                <div class="spec-row"><span class="spec-label">ì†Œì¼“ / ì½”ì–´</span><span class="spec-value">${getVal(d, 'socket')} / ${getVal(d, 'core')}</span></div>
                <div class="spec-row"><span class="spec-label">ì§€ì› OS</span><span class="spec-value">${getVal(d, 'os')}</span></div>
                <div class="spec-row"><span class="spec-label">ë™ì‘ ì˜¨ë„</span><span class="spec-value text-danger fw-bold">${getVal(d, 'temp')}</span></div>
            </div>

            <div class="spec-group">
                <h6><i class="fas fa-memory"></i> ë©”ëª¨ë¦¬ ë° ì €ì¥ì¥ì¹˜</h6>
                <div class="spec-row"><span class="spec-label">ë©”ëª¨ë¦¬</span><span class="spec-value">${getVal(d, 'memory')}</span></div>
                <div class="spec-row"><span class="spec-label">SATA í¬íŠ¸</span><span class="spec-value">${getVal(d, 'storage_sata')} EA</span></div>
                <div class="spec-row"><span class="spec-label">M.2 / mSATA</span><span class="spec-value">${getVal(d, 'storage_m2')}</span></div>
            </div>

            <div class="spec-group">
                <h6><i class="fas fa-plug"></i> ì…ì¶œë ¥ ì¸í„°í˜ì´ìŠ¤</h6>
                <div class="spec-row"><span class="spec-label">ë””ìŠ¤í”Œë ˆì´</span><span class="spec-value">${getVal(d, 'display')}</span></div>
                <div class="spec-row"><span class="spec-label">ë„¤íŠ¸ì›Œí¬ (LAN)</span><span class="spec-value">${getVal(d, 'lan')}</span></div>
                <div class="spec-row"><span class="spec-label">USB (Rear)</span><span class="spec-value">${getVal(d, 'usb')}</span></div>
                <div class="spec-row"><span class="spec-label">USB (Internal)</span><span class="spec-value">${getVal(d, 'usb_ext')}</span></div>
                <div class="spec-row"><span class="spec-label">COM í¬íŠ¸</span><span class="spec-value">${getVal(d, 'com')}</span></div>
                <div class="spec-row"><span class="spec-label">ì˜¤ë””ì˜¤ ì­</span><span class="spec-value">${getVal(d, 'audio_jack')}</span></div>
                <div class="spec-row"><span class="spec-label">ì˜¤ë””ì˜¤ ìŠ¤í”¼ì»¤</span><span class="spec-value">${getVal(d, 'audio_spk')}</span></div>
            </div>

            <div class="spec-group">
                <h6><i class="fas fa-expand-arrows-alt"></i> í™•ì¥ ìŠ¬ë¡¯ ìƒì„¸</h6>
                <div class="spec-row"><span class="spec-label">M.2 í™•ì¥</span><span class="spec-value">${getVal(d, 'expansion_m2')}</span></div>
                <div class="spec-row"><span class="spec-label">mPCIe í™•ì¥</span><span class="spec-value">${getVal(d, 'expansion_mpcie')}</span></div>
                <div class="spec-row"><span class="spec-label">PCI(e) ìŠ¬ë¡¯</span><span class="spec-value" style="text-align:left;">${getVal(d, 'expansion_pci').replace(/\n/g, '<br>')}</span></div>
            </div>

            <div class="spec-group" style="border-left: 5px solid #ed8936;">
                <h6 style="color:#ed8936;"><i class="fas fa-sticky-note"></i> ë©”ëª¨ (Memo)</h6>
                <div style="font-size: 14px; line-height: 1.6; color: #4a5568; white-space: pre-wrap;">${getVal(d, 'memo')}</div>
            </div>
        `;
        $('#modalInfoArea').html(infoHtml);
        new bootstrap.Modal('#specModal').show();
    }

    $(document).ready(function() {
        $('#modalImageArea').on('click', function() {
            const src = $('#targetImage').attr('src');
            if(src && !src.includes('placehold')) {
                $('#zoomedImage').attr('src', src);
                $('#imageOverlay').fadeIn(200).css('display', 'flex');
            }
        });
        $('#imageOverlay').on('click', () => $('#imageOverlay').fadeOut(200));

        Papa.parse(CSV_URL, {
            download: true,
            header: true,
            skipEmptyLines: true,
            complete: function(results) {
                cachedData = results.data.filter(r => r.name);
                mainTable = $('#boardTable').DataTable({
                    data: cachedData,
                    dom: '<"top-controls"lf>rtip',
                    pageLength: 50,
                    order: [[1, 'asc']],
                    columns: [
                        { 
                            data: "image_url",
                            orderable: false,
                            render: d => `<img src="${convertDriveLink(d)}" class="table-thumb" onerror="this.src='https://placehold.co/100x75?text=No+Pic'">`
                        },
                        { data: "name", className: "fw-bold text-primary" },
                        { data: "os", render: d => parseAndRender(d, 'OS') },
                        { data: "cpu_detail", className: "col-hide-mobile", render: (d, t, r) => `<span class="badge-ui bg-cpu-gen">${r.cpu_gen}th</span> ${d}` },
                        { data: "memory", className: "col-hide-mobile col-hide-tablet", render: d => parseAndRender(d, 'MEM') },
                        { data: "storage_sata", className: "col-hide-mobile col-hide-tablet" },
                        { data: "storage_m2", className: "col-hide-mobile col-hide-tablet" },
                        { data: "display", className: "col-hide-mobile col-hide-tablet" },
                        { data: "temp", className: "col-hide-mobile col-hide-tablet text-danger fw-bold" }
                    ],
                    language: { 
                        search: "ğŸ”", 
                        lengthMenu: "_MENU_", 
                        info: "ì´ _TOTAL_ê°œ ëª¨ë¸" 
                    }
                });

                $('#updateDate').text('(' + new Date().toLocaleDateString() + ' ê¸°ì¤€)');
                $('#boardTable tbody').on('click', 'tr', function () {
                    const row = mainTable.row(this).data();
                    if(row) openSpecModal(row);
                });

                $('.nav-btn').on('click', function() {
                    $('.nav-btn').removeClass('active'); $(this).addClass('active');
                    const b = $(this).data('brand');
                    $.fn.dataTable.ext.search.pop();
                    if(b !== 'all') { $.fn.dataTable.ext.search.push((s, d, i) => cachedData[i].brand === b); }
                    mainTable.draw();
                });
            }
        });
    });
</script>

<div id="floating-ui">
    <button type="button" class="float-btn" id="scrollTopBtn" style="background:white; color:#003366; display:none;" onclick="window.scrollTo({top:0, behavior:'smooth'})">
        <i class="fas fa-arrow-up"></i>
    </button>
    <button type="button" class="float-btn" style="background:#003366; color:white;" onclick="location.reload()">
        <i class="fas fa-sync-alt"></i>
    </button>
</div>

<script>
    $(window).scroll(function() {
        if ($(this).scrollTop() > 300) $('#scrollTopBtn').fadeIn();
        else $('#scrollTopBtn').fadeOut();
    });
</script>

</body>
</html>